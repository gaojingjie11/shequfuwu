<template>
  <div class="admin-page">
    <Navbar />
    
    <div class="container">
      <h1 class="page-title">ç®¡ç†åå°</h1>
      
      <div class="admin-menu">
        <div class="admin-card card" v-if="hasPermission(['admin'])">
          <div class="admin-icon">ğŸ‘¥</div>
          <h3>ç”¨æˆ·ç®¡ç†</h3>
          <p>ç®¡ç†ç¤¾åŒºç”¨æˆ·</p>
          <button class="btn btn-sm btn-primary" @click="$router.push('/admin/users')">è¿›å…¥</button>
        </div>
        
        <div class="admin-card card" v-if="hasPermission(['admin', 'store'])">
          <div class="admin-icon">ğŸ›’</div>
          <h3>å•†å“ç®¡ç†</h3>
          <p>ç®¡ç†å•†åŸå•†å“</p>
          <button class="btn btn-sm btn-primary" @click="$router.push('/admin/products')">è¿›å…¥</button>
        </div>
        
        <div class="admin-card card" v-if="hasPermission(['admin', 'store'])">
          <div class="admin-icon">ğŸ“¦</div>
          <h3>è®¢å•ç®¡ç†</h3>
          <p>æŸ¥çœ‹æ‰€æœ‰è®¢å•</p>
          <button class="btn btn-sm btn-primary" @click="$router.push('/admin/orders')">è¿›å…¥</button>
        </div>
        
        <div class="admin-card card" v-if="hasPermission(['admin', 'store'])">
          <div class="admin-icon">ğŸª</div>
          <h3>é—¨åº—ç®¡ç†</h3>
          <p>ç®¡ç†ç¤¾åŒºé—¨åº—</p>
          <button class="btn btn-sm btn-primary" @click="$router.push('/admin/stores')">è¿›å…¥</button>
        </div>
        
        <div class="admin-card card" v-if="hasPermission(['admin', 'property'])">
          <div class="admin-icon">ğŸ“¢</div>
          <h3>å…¬å‘Šç®¡ç†</h3>
          <p>å‘å¸ƒå’Œç®¡ç†å…¬å‘Š</p>
          <button class="btn btn-sm btn-primary" @click="$router.push('/admin/notices')">è¿›å…¥</button>
        </div>
        
        <div class="admin-card card" v-if="hasPermission(['admin', 'property'])">
          <div class="admin-icon">ğŸ”§</div>
          <h3>æŠ¥ä¿®å¤„ç†</h3>
          <p>å¤„ç†æŠ¥ä¿®æŠ•è¯‰</p>
          <button class="btn btn-sm btn-primary" @click="$router.push('/admin/repairs')">è¿›å…¥</button>
        </div>
        
        <div class="admin-card card" v-if="hasPermission(['admin', 'property'])">
          <div class="admin-icon">ğŸ‘¥</div>
          <h3>è®¿å®¢å®¡æ ¸</h3>
          <p>å®¡æ ¸è®¿å®¢ç”³è¯·</p>
          <button class="btn btn-sm btn-primary" @click="$router.push('/admin/visitors')">è¿›å…¥</button>
        </div>

        <div class="admin-card card" v-if="hasPermission(['admin', 'property'])">
          <div class="admin-icon">ğŸ…¿ï¸</div>
          <h3>è½¦ä½ç®¡ç†</h3>
          <p>ç®¡ç†è½¦ä½åŠåˆ†é…</p>
          <button class="btn btn-sm btn-primary" @click="$router.push('/admin/parking')">è¿›å…¥</button>
        </div>

        <div class="admin-card card" v-if="hasPermission(['admin', 'property'])">
          <div class="admin-icon">ğŸ’°</div>
          <h3>ç‰©ä¸šè´¹</h3>
          <p>è´¦å•ç®¡ç†ä¸å‘å¸ƒ</p>
          <button class="btn btn-sm btn-primary" @click="$router.push('/admin/property-fee')">è¿›å…¥</button>
        </div>
        

      </div>
    </div>
  </div>
</template>

<script setup>
import Navbar from '@/components/layout/Navbar.vue'
import { useUserStore } from '@/stores/user'

const userStore = useUserStore()
const role = userStore.userInfo.role || 'user'

const hasPermission = (allowedRoles) => {
  return allowedRoles.includes(role)
}
</script>

<style scoped>
.admin-page {
  min-height: 100vh;
  padding-bottom: var(--spacing-xl);
}

.admin-menu {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: var(--spacing-lg);
}

.admin-card {
  text-align: center;
  padding: var(--spacing-xl);
  transition: all var(--transition-base);
}

.admin-card:hover {
  transform: translateY(-4px);
}

.admin-icon {
  font-size: 48px;
  margin-bottom: var(--spacing-md);
}

.admin-card h3 {
  font-size: var(--font-size-lg);
  font-weight: 600;
  margin-bottom: var(--spacing-sm);
}

.admin-card p {
  color: var(--text-secondary);
  margin-bottom: var(--spacing-lg);
}
</style>
